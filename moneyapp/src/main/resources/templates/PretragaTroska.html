<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
	<title>MoneySaver</title>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" th:href="@{/resources/style.css}">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
</head>

<body>

	<div class="col-lg-3">
	
		<div class="clearfix">
			<img src="slika.png" alt="Logo" align=left>
  			<h1>MoneySaver</h1>
  		</div>
		
		<br />
		
		<form method="GET" action="/unos" >
			<input type="hidden" name="_csrf" th:value="${_csrf.token}"/>
			<button type="submit" class="btn btn-primary">Unos novog troška</button>
		</form>
		
		<br />
			
		<form method="POST" th:object="${trosak}" th:action="@{/pretraga/rezultat}">
		
			<input type="hidden" name="_csrf" th:value="${_csrf.token}"/>
		
			<input class="form-control" type="text" id="naziv" name="naziv" placeholder="Unesite naziv troška" autofocus="autofocus" />
			
			<button type="submit" class="btn btn-primary">Pretraži</button>
			
		</form>		
		
		<br />
		
		<table class="table table-striped">
			<tr>
				<th>Naziv</th>
				<th>Vrsta</th>
				<th>Iznos</th>
			</tr>
			<tr th:each="trosak : ${troskovi}">
				<td th:text="${trosak.naziv}"></td>
				<td th:text="${trosak.vrsta}"></td>
				<td th:text="${trosak.iznos}"></td>
			</tr>
		</table>		
		
		<br />
		
		<div sec:authorize="isAuthenticated()">
			<form method="POST" th:action="@{/logout}">
				<button type="submit" class="btn btn-danger">Logout</button>
				Ulogirani ste kao <span sec:authentication="name">Korisnik</span>.
			</form>
		</div>
		
	</div>
	
</body>
</html>